apiVersion: v1
data:
  init-rabbitmq-queue.sh: |-
    #!/bin/sh

    initialize_rabbitmq_queue(){
      echo "INIT CONFIG RABBITMQ QUEUE"

      # QUEUE LOCAL USER
      curl --request PUT --data 'user.created' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/USER/CREATED
      curl --request PUT --data 'user.updated' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/USER/UPDATED
      curl --request PUT --data 'user.login' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/USER/LOGIN
      curl --request PUT --data 'user.logout' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/USER/LOGOUT


      #QUEUE PRODUCTION USER
      curl --request PUT --data 'user.created' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/USER/CREATED
      curl --request PUT --data 'user.updated' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/USER/UPDATED
      curl --request PUT --data 'user.login' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/USER/LOGIN
      curl --request PUT --data 'user.logout' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/USER/LOGOUT


      # QUEUE LOCAL PRODUCT
      curl --request PUT --data 'product.created' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/PRODUCT/CREATED
      curl --request PUT --data 'product.updated' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/PRODUCT/UPDATED
      curl --request PUT --data 'product.deleted' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/PRODUCT/DELETED

      # QUEUE PRODUCTION PRODUCT
      curl --request PUT --data 'product.created' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/PRODUCT/CREATED
      curl --request PUT --data 'product.updated' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/PRODUCT/UPDATED
      curl --request PUT --data 'product.deleted' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/PRODUCT/DELETED

      # QUEUE LOCAL NOTIFICATION
      curl --request PUT --data 'notification.email.otp.created' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/NOTIFICATION/EMAIL/OTP/CREATED
      curl --request PUT --data 'notification.email.payment.order.created' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/NOTIFICATION/EMAIL/PAYMENT/ORDER/CREATED


      # QUEUE PRODUCTION NOTIFICATION
      curl --request PUT --data 'notification.email.otp.created' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/NOTIFICATION/EMAIL/OTP/CREATED
      curl --request PUT --data 'notification.email.payment.order.created' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/NOTIFICATION/EMAIL/PAYMENT/ORDER/CREATED


      # QUEUE LOCAL EVENT
      curl --request PUT --data 'event.created' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/EVENT/CREATED

      # QUEUE PRODUCTION EVENT
      curl --request PUT --data 'event.created' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/EVENT/CREATED

      # QUEUE LOCAL COMMERCE
      curl --request PUT --data 'cart.created' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/COMMERCE/CART/CREATED
      curl --request PUT --data 'cart.updated' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/COMMERCE/CART/UPDATED
      curl --request PUT --data 'cart.deleted' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/COMMERCE/CART/DELETED

      # QUEUE PRODUCTION COMMERCE
      curl --request PUT --data 'cart.created' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/COMMERCE/CART/CREATED
      curl --request PUT --data 'cart.updated' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/COMMERCE/CART/UPDATED
      curl --request PUT --data 'cart.deleted' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/COMMERCE/CART/DELETED

      # QUEUE LOCAL PAYMENT
      curl --request PUT --data 'payment.order.created' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/PAYMENT/ORDER/CREATED
      curl --request PUT --data 'payment.order.delayed.cancelled' http://localhost:8500/v1/kv/local/broker/rabbitmq/QUEUE/PAYMENT/ORDER/CANCELLED


      # QUEUE PRODUCTION PAYMENT
      curl --request PUT --data 'payment.order.created' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/PAYMENT/ORDER/CREATED
      curl --request PUT --data 'payment.order.delayed.cancelled' http://localhost:8500/v1/kv/production/broker/rabbitmq/QUEUE/PAYMENT/ORDER/CANCELLED


      echo "DONE INIT CONFIG RABBITMQ QUEUE"
    }
kind: ConfigMap
metadata:
  annotations:
    use-subpath: "true"
  labels:
    io.kompose.service: consul-local
  name: consul-local-cm3
